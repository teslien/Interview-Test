import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../App';\n\nconst SimpleLoginFixed = () => {\n  const navigate = useNavigate();\n  const { login, register, user } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n  const [activeTab, setActiveTab] = useState('login');\n  \n  // Login form state\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  \n  // Register form state\n  const [registerData, setRegisterData] = useState({\n    email: '',\n    password: '',\n    fullName: '',\n    role: 'applicant'\n  });\n\n  // Redirect if already logged in\n  React.useEffect(() => {\n    if (user) {\n      if (user.role === 'admin') {\n        navigate('/admin');\n      } else {\n        navigate('/applicant');\n      }\n    }\n  }, [user, navigate]);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    \n    try {\n      const userData = await login(loginData.email, loginData.password);\n      if (userData.role === 'admin') {\n        navigate('/admin');\n      } else {\n        navigate('/applicant');\n      }\n    } catch (error) {\n      console.error('Login failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    \n    try {\n      await register(\n        registerData.email,\n        registerData.password,\n        registerData.fullName,\n        registerData.role\n      );\n      // Reset form\n      setRegisterData({\n        email: '',\n        password: '',\n        fullName: '',\n        role: 'applicant'\n      });\n      setActiveTab('login');\n    } catch (error) {\n      console.error('Registration failed:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const styles = {\n    container: {\n      minHeight: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',\n      padding: '20px'\n    },\n    card: {\n      background: 'rgba(255, 255, 255, 0.9)',\n      borderRadius: '16px',\n      padding: '40px',\n      boxShadow: '0 20px 40px rgba(0, 0, 0, 0.1)',\n      width: '100%',\n      maxWidth: '400px'\n    },\n    logo: {\n      width: '80px',\n      height: '80px',\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      borderRadius: '20px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      margin: '0 auto 24px',\n      color: 'white',\n      fontSize: '32px',\n      fontWeight: 'bold'\n    },\n    title: {\n      textAlign: 'center',\n      fontSize: '28px',\n      fontWeight: 'bold',\n      color: '#1a202c',\n      marginBottom: '8px'\n    },\n    subtitle: {\n      textAlign: 'center',\n      color: '#718096',\n      marginBottom: '32px'\n    },\n    tabsContainer: {\n      display: 'flex',\n      marginBottom: '24px',\n      background: '#f7fafc',\n      borderRadius: '8px',\n      padding: '4px'\n    },\n    tab: {\n      flex: 1,\n      padding: '8px 16px',\n      textAlign: 'center',\n      borderRadius: '6px',\n      cursor: 'pointer',\n      fontWeight: '500',\n      transition: 'all 0.2s'\n    },\n    activeTab: {\n      background: '#667eea',\n      color: 'white'\n    },\n    inactiveTab: {\n      background: 'transparent',\n      color: '#718096'\n    },\n    formGroup: {\n      marginBottom: '20px'\n    },\n    label: {\n      display: 'block',\n      marginBottom: '8px',\n      fontWeight: '500',\n      color: '#2d3748'\n    },\n    input: {\n      width: '100%',\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      fontSize: '16px',\n      transition: 'border-color 0.2s',\n      boxSizing: 'border-box'\n    },\n    select: {\n      width: '100%',\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      fontSize: '16px',\n      background: 'white',\n      boxSizing: 'border-box'\n    },\n    button: {\n      width: '100%',\n      padding: '12px',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '16px',\n      fontWeight: '600',\n      cursor: 'pointer',\n      transition: 'all 0.2s',\n      marginBottom: '16px'\n    },\n    loginButton: {\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      color: 'white'\n    },\n    registerButton: {\n      background: 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)',\n      color: 'white'\n    },\n    disabledButton: {\n      background: '#a0aec0',\n      cursor: 'not-allowed'\n    },\n    demoAccounts: {\n      textAlign: 'center',\n      fontSize: '14px',\n      color: '#718096',\n      paddingTop: '20px',\n      borderTop: '1px solid #e2e8f0'\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.card}>\n        <div style={styles.logo}>âœ“</div>\n        <h1 style={styles.title}>Interview Test Platform</h1>\n        <p style={styles.subtitle}>Secure pre-interview assessments with live monitoring</p>\n        \n        {/* Tabs */}\n        <div style={styles.tabsContainer}>\n          <div\n            style={{\n              ...styles.tab,\n              ...(activeTab === 'login' ? styles.activeTab : styles.inactiveTab)\n            }}\n            onClick={() => setActiveTab('login')}\n          >\n            Sign In\n          </div>\n          <div\n            style={{\n              ...styles.tab,\n              ...(activeTab === 'register' ? styles.activeTab : styles.inactiveTab)\n            }}\n            onClick={() => setActiveTab('register')}\n          >\n            Sign Up\n          </div>\n        </div>\n        \n        {/* Login Form */}\n        {activeTab === 'login' && (\n          <form onSubmit={handleLogin}>\n            <div style={styles.formGroup}>\n              <label style={styles.label}>Email Address</label>\n              <input\n                type=\"email\"\n                placeholder=\"Enter your email\"\n                style={styles.input}\n                value={loginData.email}\n                onChange={(e) => setLoginData({ ...loginData, email: e.target.value })}\n                required\n                data-testid=\"login-email-input\"\n              />\n            </div>\n            \n            <div style={styles.formGroup}>\n              <label style={styles.label}>Password</label>\n              <input\n                type=\"password\"\n                placeholder=\"Enter your password\"\n                style={styles.input}\n                value={loginData.password}\n                onChange={(e) => setLoginData({ ...loginData, password: e.target.value })}\n                required\n                data-testid=\"login-password-input\"\n              />\n            </div>\n            \n            <button\n              type=\"submit\"\n              style={{\n                ...styles.button,\n                ...(isLoading ? styles.disabledButton : styles.loginButton)\n              }}\n              disabled={isLoading}\n              data-testid=\"login-submit-button\"\n            >\n              {isLoading ? 'Signing In...' : 'Sign In'}\n            </button>\n          </form>\n        )}\n        \n        {/* Register Form */}\n        {activeTab === 'register' && (\n          <form onSubmit={handleRegister}>\n            <div style={styles.formGroup}>\n              <label style={styles.label}>Full Name</label>\n              <input\n                type=\"text\"\n                placeholder=\"Enter your full name\"\n                style={styles.input}\n                value={registerData.fullName}\n                onChange={(e) => setRegisterData({ ...registerData, fullName: e.target.value })}\n                required\n                data-testid=\"register-name-input\"\n              />\n            </div>\n            \n            <div style={styles.formGroup}>\n              <label style={styles.label}>Email Address</label>\n              <input\n                type=\"email\"\n                placeholder=\"Enter your email\"\n                style={styles.input}\n                value={registerData.email}\n                onChange={(e) => setRegisterData({ ...registerData, email: e.target.value })}\n                required\n                data-testid=\"register-email-input\"\n              />\n            </div>\n            \n            <div style={styles.formGroup}>\n              <label style={styles.label}>Password</label>\n              <input\n                type=\"password\"\n                placeholder=\"Create a password\"\n                style={styles.input}\n                value={registerData.password}\n                onChange={(e) => setRegisterData({ ...registerData, password: e.target.value })}\n                required\n                data-testid=\"register-password-input\"\n              />\n            </div>\n            \n            <div style={styles.formGroup}>\n              <label style={styles.label}>Role</label>\n              <select\n                style={styles.select}\n                value={registerData.role}\n                onChange={(e) => setRegisterData({ ...registerData, role: e.target.value })}\n                data-testid=\"register-role-select\"\n              >\n                <option value=\"applicant\">Applicant</option>\n                <option value=\"admin\">Admin</option>\n              </select>\n            </div>\n            \n            <button\n              type=\"submit\"\n              style={{\n                ...styles.button,\n                ...(isLoading ? styles.disabledButton : styles.registerButton)\n              }}\n              disabled={isLoading}\n              data-testid=\"register-submit-button\"\n            >\n              {isLoading ? 'Creating Account...' : 'Create Account'}\n            </button>\n          </form>\n        )}\n        \n        {/* Demo Accounts Info */}\n        <div style={styles.demoAccounts}>\n          <p style={{ margin: '0 0 8px' }}>Demo Accounts:</p>\n          <p style={{ margin: '4px 0' }}><strong>Admin:</strong> admin@example.com / admin123</p>\n          <p style={{ margin: '4px 0' }}><strong>Applicant:</strong> applicant@example.com / applicant123</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleLoginFixed;"